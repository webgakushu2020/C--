# **08_繰り返し（for文）**


## **for文の書き方**

```dart
  for (①初期化; ②繰り返し条件; ③後処理) {
    繰り返す処理
  } 
```

```dart
void main() {

  for (var i = 0; i < 3; i++) {
    print("生麦生米生卵");
  }

}
```

  変数 **i** の値が **0 から 3 より小さい間**  　{}内の処理を繰り返す

  ![for](img/08_for1-1.png)


**①初期化**  
変数iの宣言と初期値を代入  
```
var i = 0;
```

**②繰り返し条件**  
  条件結果がtrueのとき {} の中の処理を実行する  
```
i < 3;
```

**③後処理**

- {}の中の処理が実行された後 **i** に **1** を加算する
- **++** は1を足すこと　インクリメントと呼ぶ
- 2を足したい場合　**i = i + 2** と書く

```
i++
```

<br>

### **iの値の変化と処理の流れをみてみよう**

|  処理回数  |  iの値  |  判定(i<3)  |  表示  |  i++  |
| :----: | :----: | :----: | :----: | :----: |
|  1回目の処理  |  0  |  0<3<br>true  | 生麦生米生卵 | 1 |
|  2回目の処理  |  1  |  1<3<br>true  | 生麦生米生卵 | 2 |
|  3回目の処理  |  2  |  2<3<br>true  | 生麦生米生卵 | 3 |
|  4回目の処理  |  3  |  3<3<br>`false`  |`{}の中は実行されない`| - |

<br>

## **for文のいろいろな使い方**

<br>

### **① 10から1まで表示する**

```dart
void main() {

  for (var count = 10; count > 0; count--) {
    print(count);
  }
  
}
```

```
>> 10
>> 9
>> 8
>> 7
>> 6
>> 5
>> 4
>> 3
>> 2
>> 1
```

**ポイント**

- 「初期値」「繰り返し条件」「後処理」が逆になる
- 特に「繰り返し条件」の符号の向きに注意
- **count--** は **count** から **1** を引くこと

<br>

### **② 0から10までの`偶数`を表示する**

```dart
void main() {

  for (var j = 0; j <= 10; j = j + 2) {
    print(j);
  }

}
```

```
>> 0
>> 2
>> 4
>> 6
>> 8
>> 10
```

**ポイント**

- **j = j + 2**の計算　**j+2** の結果を **j** に再代入する  

<br>

### **③ for文の中でif文を使う**
**0から10までの`偶数`を表示する**

```dart
void main() {

  for (var i = 0; i <= 10; i++) {
    if (i % 2 == 0) { //２で割った余りが０のときだけprint処理
      print(i);
    }
  }

}
```

```
>> 0
>> 2
>> 4
>> 6
>> 8
>> 10
```

**ポイント**

- **for文** の中に **if文** を入れて、ある条件のときだけ処理をする

<br>


# **確認問題**

## **問題①**

- 敵のHPは150
- 敵に続けて10回攻撃
- 攻撃力は1から30までランダム
- 敵のHPが０になった時点で「あなたの勝ち」と表示
- 最後まで敵のHPが残っていた場合、「あなたの負け」と表示

出力例
```

> 敵に30のダメージ　HPは120
> 敵に10のダメージ　HPは110
> 敵に20のダメージ　HPは90
> 敵に1のダメージ　HPは89
> 敵に30のダメージ　HPは59
> 敵に10のダメージ　HPは49
> 敵に15のダメージ　HPは34
> 敵に22のダメージ　HPは11
> 敵に29のダメージ　HPは-28
> あなたの勝ち

```

# **回答**

```c#

var random = new Random();
var hp = 150; //敵のHP
var attack = 0; //攻撃力

for (var i = 0; i < 10; i++) {

  //hpが残っているときだけ攻撃する
  if (hp > 0) {
    attack = random.Next(1, 31);
    hp -= attack;
    Console.WriteLine($"敵に{attack}のダメージ　HPは{hp}");
  }

}

//forが終わった後にhpが残っているかどうか調べる
if (hp <= 0) {
  Console.WriteLine("あなたの勝ち");
} else {
  Console.WriteLine("あなたの負け");
}

```

```c#

  var random = new Random();
  var hp = 150; //敵のHP
  var attack = 0; //攻撃力

  for (var i = 0; i < 10; i++) {

    attack = random.Next(1, 31);
    hp -= attack;
    Console.WriteLine($"敵に{attack}のダメージ　HPは{hp}");

    //hpが0以下になった時点でfor文を止める
    if (hp <= 0) {
      break; //for文を止めて抜ける
    }

  }

  //forが終わった後にhpが残っているかどうか調べる
  if (hp <= 0) {
    Console.WriteLine("あなたの勝ち");
  } else {
    Console.WriteLine("あなたの負け");
  }

```